#################################################
# systematics
#################################################
def get_systematics_map():
    unc_map = {
    
        'cms_scale_j' : {
            'BKG' : {
                'cat00' : '-\t', 'cat01' : '-\t', 'cat02' : '-\t', 'cat03' : '-\t',
                'cat04' : '-\t', 'cat05' : '-\t', 'cat06' : '-\t', 'cat07' : '-\t',
                'cat08' : '-\t', 'cat09' : '-\t', 'cat10' : '-\t', 'cat11' : '-\t',
                'cat12' : '-\t', 'cat13' : '-\t', 'cat14' : '-\t', 'cat15' : '-\t',
            },
    
            'VBF' : {
                'cat00' : '1.026/0.996',
                'cat01' : '1.026/0.996',
                'cat02' : '1.026/0.996',
                'cat03' : '1.026/0.996',
                'cat04' : '1.026/0.996',
                'cat05' : '1.026/0.996',
                'cat06' : '1.026/0.996',
                'cat07' : '1.026/0.996',
                'cat08' : '1.026/0.996',
                'cat09' : '1.026/0.996',
                'cat10' : '1.026/0.996',
                'cat11' : '1.026/0.996',
                'cat12' : '1.026/0.996',
                'cat13' : '1.026/0.996',
                'cat14' : '1.026/0.996',
                'cat15' : '1.026/0.996',
            },
    
            'GluGlu'  : {
                'cat00' : '0.997/1.003',
                'cat01' : '0.997/1.003',
                'cat02' : '0.997/1.003',
                'cat03' : '0.997/1.003',
                'cat04' : '0.997/1.003',
                'cat05' : '0.997/1.003',
                'cat06' : '0.997/1.003',
                'cat07' : '0.997/1.003',
                'cat08' : '0.997/1.003',
                'cat09' : '0.997/1.003',
                'cat10' : '0.997/1.003',
                'cat11' : '0.997/1.003',
                'cat12' : '0.997/1.003',
                'cat13' : '0.997/1.003',
                'cat14' : '0.997/1.003',
                'cat15' : '0.997/1.003',
            },
    
            'WPlusH' : {
                'cat00' : '0.999/1.002',
                'cat01' : '0.999/1.002',
                'cat02' : '0.999/1.002',
                'cat03' : '0.999/1.002',
                'cat04' : '0.999/1.002',
                'cat05' : '0.999/1.002',
                'cat06' : '0.999/1.002',
                'cat07' : '0.999/1.002',
                'cat08' : '0.999/1.002',
                'cat09' : '0.999/1.002',
                'cat10' : '0.999/1.002',
                'cat11' : '0.999/1.002',
                'cat12' : '0.999/1.002',
                'cat13' : '0.999/1.002',
                'cat14' : '0.999/1.002',
                'cat15' : '0.999/1.002',
            },
    
            'WMinusH' : {
                'cat00' : '1.002/0.989',
                'cat01' : '1.002/0.989',
                'cat02' : '1.002/0.989',
                'cat03' : '1.002/0.989',
                'cat04' : '1.002/0.989',
                'cat05' : '1.002/0.989',
                'cat06' : '1.002/0.989',
                'cat07' : '1.002/0.989',
                'cat08' : '1.002/0.989',
                'cat09' : '1.002/0.989',
                'cat10' : '1.002/0.989',
                'cat11' : '1.002/0.989',
                'cat12' : '1.002/0.989',
                'cat13' : '1.002/0.989',
                'cat14' : '1.002/0.989',
                'cat15' : '1.002/0.989',
            },
    
            'ZH' : {
                'cat00' : '1.014/0.995',
                'cat01' : '1.014/0.995',
                'cat02' : '1.014/0.995',
                'cat03' : '1.014/0.995',
                'cat04' : '1.014/0.995',
                'cat05' : '1.014/0.995',
                'cat06' : '1.014/0.995',
                'cat07' : '1.014/0.995',
                'cat08' : '1.014/0.995',
                'cat09' : '1.014/0.995',
                'cat10' : '1.014/0.995',
                'cat11' : '1.014/0.995',
                'cat12' : '1.014/0.995',
                'cat13' : '1.014/0.995',
                'cat14' : '1.014/0.995',
                'cat15' : '1.014/0.995',
            },
    
        },
    
    
        'cms_res_j' : {
            'BKG' : {
                'cat00' : '-\t', 'cat01' : '-\t', 'cat02' : '-\t', 'cat03' : '-\t',
                'cat04' : '-\t', 'cat05' : '-\t', 'cat06' : '-\t', 'cat07' : '-\t',
                'cat08' : '-\t', 'cat09' : '-\t', 'cat10' : '-\t', 'cat11' : '-\t',
                'cat12' : '-\t', 'cat13' : '-\t', 'cat14' : '-\t', 'cat15' : '-\t',
            },
    
            'VBF' : {
                'cat00' : '0.992/1.018',
                'cat01' : '0.992/1.018',
                'cat02' : '0.992/1.018',
                'cat03' : '0.992/1.018',
                'cat04' : '0.992/1.018',
                'cat05' : '0.992/1.018',
                'cat06' : '0.992/1.018',
                'cat07' : '0.992/1.018',
                'cat08' : '0.992/1.018',
                'cat09' : '0.992/1.018',
                'cat10' : '0.992/1.018',
                'cat11' : '0.992/1.018',
                'cat12' : '0.992/1.018',
                'cat13' : '0.992/1.018',
                'cat14' : '0.992/1.018',
                'cat15' : '0.992/1.018',
            },
    
            'GluGlu'  : {
                'cat00' : '1.004/1.001',
                'cat01' : '1.004/1.001',
                'cat02' : '1.004/1.001',
                'cat03' : '1.004/1.001',
                'cat04' : '1.004/1.001',
                'cat05' : '1.004/1.001',
                'cat06' : '1.004/1.001',
                'cat07' : '1.004/1.001',
                'cat08' : '1.004/1.001',
                'cat09' : '1.004/1.001',
                'cat10' : '1.004/1.001',
                'cat11' : '1.004/1.001',
                'cat12' : '1.004/1.001',
                'cat13' : '1.004/1.001',
                'cat14' : '1.004/1.001',
                'cat15' : '1.004/1.001',
            },
    
            'WPlusH' : {
                'cat00' : '0.998/1.003',
                'cat01' : '0.998/1.003',
                'cat02' : '0.998/1.003',
                'cat03' : '0.998/1.003',
                'cat04' : '0.998/1.003',
                'cat05' : '0.998/1.003',
                'cat06' : '0.998/1.003',
                'cat07' : '0.998/1.003',
                'cat08' : '0.998/1.003',
                'cat09' : '0.998/1.003',
                'cat10' : '0.998/1.003',
                'cat11' : '0.998/1.003',
                'cat12' : '0.998/1.003',
                'cat13' : '0.998/1.003',
                'cat14' : '0.998/1.003',
                'cat15' : '0.998/1.003',
            },
    
            'WMinusH' : {
                'cat00' : '1.003/0.996',
                'cat01' : '1.003/0.996',
                'cat02' : '1.003/0.996',
                'cat03' : '1.003/0.996',
                'cat04' : '1.003/0.996',
                'cat05' : '1.003/0.996',
                'cat06' : '1.003/0.996',
                'cat07' : '1.003/0.996',
                'cat08' : '1.003/0.996',
                'cat09' : '1.003/0.996',
                'cat10' : '1.003/0.996',
                'cat11' : '1.003/0.996',
                'cat12' : '1.003/0.996',
                'cat13' : '1.003/0.996',
                'cat14' : '1.003/0.996',
                'cat15' : '1.003/0.996',
            },
    
            'ZH' : {
                'cat00' : '1.002/1.000',
                'cat01' : '1.002/1.000',
                'cat02' : '1.002/1.000',
                'cat03' : '1.002/1.000',
                'cat04' : '1.002/1.000',
                'cat05' : '1.002/1.000',
                'cat06' : '1.002/1.000',
                'cat07' : '1.002/1.000',
                'cat08' : '1.002/1.000',
                'cat09' : '1.002/1.000',
                'cat10' : '1.002/1.000',
                'cat11' : '1.002/1.000',
                'cat12' : '1.002/1.000',
                'cat13' : '1.002/1.000',
                'cat14' : '1.002/1.000',
                'cat15' : '1.002/1.000',
            },
    
        },
    
    
        'cms_pu' : {
            'BKG' : {
                'cat00' : '-\t', 'cat01' : '-\t', 'cat02' : '-\t', 'cat03' : '-\t',
                'cat04' : '-\t', 'cat05' : '-\t', 'cat06' : '-\t', 'cat07' : '-\t',
                'cat08' : '-\t', 'cat09' : '-\t', 'cat10' : '-\t', 'cat11' : '-\t',
                'cat12' : '-\t', 'cat13' : '-\t', 'cat14' : '-\t', 'cat15' : '-\t',
            },
    
            'VBF' : {
                'cat00' : '0.996/1.004',
                'cat01' : '0.996/1.004',
                'cat02' : '0.996/1.004',
                'cat03' : '0.996/1.004',
                'cat04' : '0.996/1.004',
                'cat05' : '0.996/1.004',
                'cat06' : '0.996/1.004',
                'cat07' : '0.996/1.004',
                'cat08' : '0.996/1.004',
                'cat09' : '0.996/1.004',
                'cat10' : '0.996/1.004',
                'cat11' : '0.996/1.004',
                'cat12' : '0.996/1.004',
                'cat13' : '0.996/1.004',
                'cat14' : '0.996/1.004',
                'cat15' : '0.996/1.004',
            },
    
            'GluGlu'  : {
                'cat00' : '0.998/0.999',
                'cat01' : '0.998/0.999',
                'cat02' : '0.998/0.999',
                'cat03' : '0.998/0.999',
                'cat04' : '0.998/0.999',
                'cat05' : '0.998/0.999',
                'cat06' : '0.998/0.999',
                'cat07' : '0.998/0.999',
                'cat08' : '0.998/0.999',
                'cat09' : '0.998/0.999',
                'cat10' : '0.998/0.999',
                'cat11' : '0.998/0.999',
                'cat12' : '0.998/0.999',
                'cat13' : '0.998/0.999',
                'cat14' : '0.998/0.999',
                'cat15' : '0.998/0.999',
            },
    
            'WPlusH' : {
                'cat00' : '1.010/0.991',
                'cat01' : '1.010/0.991',
                'cat02' : '1.010/0.991',
                'cat03' : '1.010/0.991',
                'cat04' : '1.010/0.991',
                'cat05' : '1.010/0.991',
                'cat06' : '1.010/0.991',
                'cat07' : '1.010/0.991',
                'cat08' : '1.010/0.991',
                'cat09' : '1.010/0.991',
                'cat10' : '1.010/0.991',
                'cat11' : '1.010/0.991',
                'cat12' : '1.010/0.991',
                'cat13' : '1.010/0.991',
                'cat14' : '1.010/0.991',
                'cat15' : '1.010/0.991',
            },
    
            'WMinusH' : {
                'cat00' : '1.005/0.997',
                'cat01' : '1.005/0.997',
                'cat02' : '1.005/0.997',
                'cat03' : '1.005/0.997',
                'cat04' : '1.005/0.997',
                'cat05' : '1.005/0.997',
                'cat06' : '1.005/0.997',
                'cat07' : '1.005/0.997',
                'cat08' : '1.005/0.997',
                'cat09' : '1.005/0.997',
                'cat10' : '1.005/0.997',
                'cat11' : '1.005/0.997',
                'cat12' : '1.005/0.997',
                'cat13' : '1.005/0.997',
                'cat14' : '1.005/0.997',
                'cat15' : '1.005/0.997',
            },
    
            'ZH' : {
                'cat00' : '1.014/0.994',
                'cat01' : '1.014/0.994',
                'cat02' : '1.014/0.994',
                'cat03' : '1.014/0.994',
                'cat04' : '1.014/0.994',
                'cat05' : '1.014/0.994',
                'cat06' : '1.014/0.994',
                'cat07' : '1.014/0.994',
                'cat08' : '1.014/0.994',
                'cat09' : '1.014/0.994',
                'cat10' : '1.014/0.994',
                'cat11' : '1.014/0.994',
                'cat12' : '1.014/0.994',
                'cat13' : '1.014/0.994',
                'cat14' : '1.014/0.994',
                'cat15' : '1.014/0.994',
            },
    
        },
    
    
        'cms_pdf' : {
            'BKG' : {
                'cat00' : '-\t', 'cat01' : '-\t', 'cat02' : '-\t', 'cat03' : '-\t',
                'cat04' : '-\t', 'cat05' : '-\t', 'cat06' : '-\t', 'cat07' : '-\t',
                'cat08' : '-\t', 'cat09' : '-\t', 'cat10' : '-\t', 'cat11' : '-\t',
                'cat12' : '-\t', 'cat13' : '-\t', 'cat14' : '-\t', 'cat15' : '-\t',
            },
    
            'VBF' : {
                'cat00' : '0.966/1.001',
                'cat01' : '0.966/1.001',
                'cat02' : '0.966/1.001',
                'cat03' : '0.966/1.001',
                'cat04' : '0.966/1.001',
                'cat05' : '0.966/1.001',
                'cat06' : '0.966/1.001',
                'cat07' : '0.966/1.001',
                'cat08' : '0.966/1.001',
                'cat09' : '0.966/1.001',
                'cat10' : '0.966/1.001',
                'cat11' : '0.966/1.001',
                'cat12' : '0.966/1.001',
                'cat13' : '0.966/1.001',
                'cat14' : '0.966/1.001',
                'cat15' : '0.966/1.001',
            },
    
            'GluGlu'  : {
                'cat00' : '0.988/1.035',
                'cat01' : '0.988/1.035',
                'cat02' : '0.988/1.035',
                'cat03' : '0.988/1.035',
                'cat04' : '0.988/1.035',
                'cat05' : '0.988/1.035',
                'cat06' : '0.988/1.035',
                'cat07' : '0.988/1.035',
                'cat08' : '0.988/1.035',
                'cat09' : '0.988/1.035',
                'cat10' : '0.988/1.035',
                'cat11' : '0.988/1.035',
                'cat12' : '0.988/1.035',
                'cat13' : '0.988/1.035',
                'cat14' : '0.988/1.035',
                'cat15' : '0.988/1.035',
            },
    
            'WPlusH' : {
                'cat00' : '0.987/1.033',
                'cat01' : '0.987/1.033',
                'cat02' : '0.987/1.033',
                'cat03' : '0.987/1.033',
                'cat04' : '0.987/1.033',
                'cat05' : '0.987/1.033',
                'cat06' : '0.987/1.033',
                'cat07' : '0.987/1.033',
                'cat08' : '0.987/1.033',
                'cat09' : '0.987/1.033',
                'cat10' : '0.987/1.033',
                'cat11' : '0.987/1.033',
                'cat12' : '0.987/1.033',
                'cat13' : '0.987/1.033',
                'cat14' : '0.987/1.033',
                'cat15' : '0.987/1.033',
            },
    
            'WMinusH' : {
                'cat00' : '0.977/1.018',
                'cat01' : '0.977/1.018',
                'cat02' : '0.977/1.018',
                'cat03' : '0.977/1.018',
                'cat04' : '0.977/1.018',
                'cat05' : '0.977/1.018',
                'cat06' : '0.977/1.018',
                'cat07' : '0.977/1.018',
                'cat08' : '0.977/1.018',
                'cat09' : '0.977/1.018',
                'cat10' : '0.977/1.018',
                'cat11' : '0.977/1.018',
                'cat12' : '0.977/1.018',
                'cat13' : '0.977/1.018',
                'cat14' : '0.977/1.018',
                'cat15' : '0.977/1.018',
            },
    
            'ZH' : {
                'cat00' : '0.981/1.020',
                'cat01' : '0.981/1.020',
                'cat02' : '0.981/1.020',
                'cat03' : '0.981/1.020',
                'cat04' : '0.981/1.020',
                'cat05' : '0.981/1.020',
                'cat06' : '0.981/1.020',
                'cat07' : '0.981/1.020',
                'cat08' : '0.981/1.020',
                'cat09' : '0.981/1.020',
                'cat10' : '0.981/1.020',
                'cat11' : '0.981/1.020',
                'cat12' : '0.981/1.020',
                'cat13' : '0.981/1.020',
                'cat14' : '0.981/1.020',
                'cat15' : '0.981/1.020',
            },
    
        },
    
    
        'cms_scale' : {
            'BKG' : {
                'cat00' : '-\t', 'cat01' : '-\t', 'cat02' : '-\t', 'cat03' : '-\t',
                'cat04' : '-\t', 'cat05' : '-\t', 'cat06' : '-\t', 'cat07' : '-\t',
                'cat08' : '-\t', 'cat09' : '-\t', 'cat10' : '-\t', 'cat11' : '-\t',
                'cat12' : '-\t', 'cat13' : '-\t', 'cat14' : '-\t', 'cat15' : '-\t',
            },
    
            'VBF' : {
                'cat00' : '0.987/0.995',
                'cat01' : '0.987/0.995',
                'cat02' : '0.987/0.995',
                'cat03' : '0.987/0.995',
                'cat04' : '0.987/0.995',
                'cat05' : '0.987/0.995',
                'cat06' : '0.987/0.995',
                'cat07' : '0.987/0.995',
                'cat08' : '0.987/0.995',
                'cat09' : '0.987/0.995',
                'cat10' : '0.987/0.995',
                'cat11' : '0.987/0.995',
                'cat12' : '0.987/0.995',
                'cat13' : '0.987/0.995',
                'cat14' : '0.987/0.995',
                'cat15' : '0.987/0.995',
            },
    
            'GluGlu'  : {
                'cat00' : '1.005/1.031',
                'cat01' : '1.005/1.031',
                'cat02' : '1.005/1.031',
                'cat03' : '1.005/1.031',
                'cat04' : '1.005/1.031',
                'cat05' : '1.005/1.031',
                'cat06' : '1.005/1.031',
                'cat07' : '1.005/1.031',
                'cat08' : '1.005/1.031',
                'cat09' : '1.005/1.031',
                'cat10' : '1.005/1.031',
                'cat11' : '1.005/1.031',
                'cat12' : '1.005/1.031',
                'cat13' : '1.005/1.031',
                'cat14' : '1.005/1.031',
                'cat15' : '1.005/1.031',
            },
    
            'WPlusH' : {
                'cat00' : '0.966/1.031',
                'cat01' : '0.966/1.031',
                'cat02' : '0.966/1.031',
                'cat03' : '0.966/1.031',
                'cat04' : '0.966/1.031',
                'cat05' : '0.966/1.031',
                'cat06' : '0.966/1.031',
                'cat07' : '0.966/1.031',
                'cat08' : '0.966/1.031',
                'cat09' : '0.966/1.031',
                'cat10' : '0.966/1.031',
                'cat11' : '0.966/1.031',
                'cat12' : '0.966/1.031',
                'cat13' : '0.966/1.031',
                'cat14' : '0.966/1.031',
                'cat15' : '0.966/1.031',
            },
    
            'WMinusH' : {
                'cat00' : '0.967/1.012',
                'cat01' : '0.967/1.012',
                'cat02' : '0.967/1.012',
                'cat03' : '0.967/1.012',
                'cat04' : '0.967/1.012',
                'cat05' : '0.967/1.012',
                'cat06' : '0.967/1.012',
                'cat07' : '0.967/1.012',
                'cat08' : '0.967/1.012',
                'cat09' : '0.967/1.012',
                'cat10' : '0.967/1.012',
                'cat11' : '0.967/1.012',
                'cat12' : '0.967/1.012',
                'cat13' : '0.967/1.012',
                'cat14' : '0.967/1.012',
                'cat15' : '0.967/1.012',
            },
            'ZH' : {
                'cat00' : '0.994/1.013',
                'cat01' : '0.994/1.013',
                'cat02' : '0.994/1.013',
                'cat03' : '0.994/1.013',
                'cat04' : '0.994/1.013',
                'cat05' : '0.994/1.013',
                'cat06' : '0.994/1.013',
                'cat07' : '0.994/1.013',
                'cat08' : '0.994/1.013',
                'cat09' : '0.994/1.013',
                'cat10' : '0.994/1.013',
                'cat11' : '0.994/1.013',
                'cat12' : '0.994/1.013',
                'cat13' : '0.994/1.013',
                'cat14' : '0.994/1.013',
                'cat15' : '0.994/1.013',
            },
        },
    }
    constant_sys = {
        'lumi_13TeV' : '1.027\t',
        'br_hmm' : '1.017\t',
    }
    xsec_unc = {
        'xsec_ggH' : '1.05\t',
        'xsec_qqH' : '1.022\t',
        'xsec_WH'  : '1.02\t',
        'xsec_ZH'  : '0.965/1.041',
    }

    for key, val in xsec_unc.iteritems():
        unc_map[key] = {}
        unc_map[key]['BKG'] = {}
        unc_map[key]['VBF'] = {}
        unc_map[key]['GluGlu'] = {}
        unc_map[key]['WPlusH'] = {}
        unc_map[key]['WMinusH'] = {}
        unc_map[key]['ZH'] = {}
    for key, val in constant_sys.iteritems():
        unc_map[key] = {}
        unc_map[key]['BKG'] = {}
        unc_map[key]['VBF'] = {}
        unc_map[key]['GluGlu'] = {}
        unc_map[key]['WPlusH'] = {}
        unc_map[key]['WMinusH'] = {}
        unc_map[key]['ZH'] = {}
    for cat in ['cat'+str(i).zfill(2) for i in xrange(16)]:
        # production xsec unc affects all cats per process
        for key, val in xsec_unc.iteritems():
            unc_map[key]['BKG'][cat]     = '-\t'
            unc_map[key]['VBF'][cat]     = '-\t'
            unc_map[key]['GluGlu'][cat]  = '-\t'
            unc_map[key]['WPlusH'][cat]  = '-\t'
            unc_map[key]['WMinusH'][cat] = '-\t'
            unc_map[key]['ZH'][cat]      = '-\t'


    for cat in ['cat'+str(i).zfill(2) for i in xrange(16)]:
        unc_map['xsec_qqH']['VBF'][cat]    = xsec_unc['xsec_qqH']
        unc_map['xsec_ggH']['GluGlu'][cat] = xsec_unc['xsec_ggH']
        unc_map['xsec_WH']['WPlusH'][cat]  = xsec_unc['xsec_WH']
        unc_map['xsec_WH']['WMinusH'][cat] = xsec_unc['xsec_WH']
        unc_map['xsec_ZH']['ZH'][cat]      = xsec_unc['xsec_ZH']

        # unc that is the same for every category and process
        for key, val in constant_sys.iteritems():
            unc_map[key]['BKG'][cat] = '-\t'
            unc_map[key]['VBF'][cat]     = val
            unc_map[key]['GluGlu'][cat]  = val
            unc_map[key]['WPlusH'][cat]  = val
            unc_map[key]['WMinusH'][cat] = val
            unc_map[key]['ZH'][cat]      = val

    return unc_map




#
#class Systematic(object):
#    def __init__(self, name):
#        if name not in unc_map.keys():
#            raise ValueError(('Could not find {0} in the systematics'
#                              ' map.').format(name))
#        self.name = name
#
#        self.processes = ['BKG', 'VBF', 'GluGlu', 'WPlusH', 'WMinusH', 'ZH']
#        self.cats = ['cat'+str(i).zfill(2) for i in xrange(16)]
#
#        self.m = {}
#        for cat in self.cats:
#            for proc in self.processes:
#                self.m[proc][cat] = '-\t'
#
#
#
#
#
#
### ____________________________________________________________________________
#    def get_sys(self, proc, cat):
#        return self.m[proc][cat]
#
#

